# Hubot Alfred

Alfred is a chat bot built on the [Hubot][hubot] framework. It was
initially generated by [generator-hubot][generator-hubot], and configured to be
deployed on [Heroku][heroku] to get you up and running as quick as possible.

## What does Alfred do?

Alfred, much like Sir Michael Caine in the Batman trilogy, is the flamboyant butler your Slack team needs.

Right now, he can do is keep you inspired all day long with some awesome quotes.
He can repeat whatever you ask him to repeat (or not!).
He will also remember to pick you up when you fall down.

He is still learning and will be able to do more useful stuff in the near future.

## Commands

* `@hubot the team needs some inspiration`

	hubot: `All we have to decide is what to do with the time that is given to us.`
* `Why do we fall?`

	hubot: `So that we can learn to pick ourselves up.`
* `Repeat <your-motto>`

	hubot: `<your-motto>` or be surprised!

## Deploying to Slack using Heroku for the first time

1. First you want to [set up a bot on Slack](https://my.slack.com/apps/A0F7YS25R-bots).
Retrieve the API Token and run the following command:

```shell
	$ HUBOT_SLACK_TOKEN=xoxb-YOUR-TOKEN-HERE ./bin/hubot --adapter slack
```

This is only a local instance and will stop working once you stop the local server.
If you are able to add the bot and it works fine, you can prepare to deploy permanently with Heroku.

2. Install the Heroku Toolbelt CLI and create the app

```shell
	$ git init
	$ git add .
	$ git commit -m "Create hubot"
	$ heroku create
```

3. Find out your app url either by going to your Heroku dashboard on your browser or using the terminal.

```shell
	$ heroku apps:info
	=== your-app-name
	Auto Cert Mgmt: false
	Dynos:
	Git URL:        your-app-git-url
	Owner:          your-email
	Region:         your-region
	Repo Size:      0 B
	Slug Size:      0 B
	Stack:          heroku-16
	Web URL:        your-url
```

4. Set up the config variables

```shell
	$ heroku config:set HUBOT_SLACK_TOKEN=your-slack-api
	$ heroku config:set HUBOT_HEROKU_KEEPALIVE_URL=your-url
```

5. Deploy Alfred to your Slack team and enjoy inspirational quotes all day long

```shell
	$ git push heroku master
```

You'll want to commit and push to this particular branch after every new feature.

## Running Locally

You can test your hubot by running the following, however some plugins will not
behave as expected unless the [environment variables](#configuration) they rely
upon have been set.

You can start Alfred locally by running:

```shell
    $ bin/hubot
```

You'll see some start up output and a prompt:

```shell
    [Sat Feb 28 2015 12:38:27 GMT+0000 (GMT)] INFO Using default redis on localhost:6379
    Alfred>
```

Then you can interact with Alfred by typing `Alfred help`.

```shell
    Alfred> Alfred help
    Alfred animate me <query> - The same thing as `image me`, except adds [snip]
    Alfred help - Displays all of the help commands that Alfred knows about.
    ...
```

## Restart the bot

You may want to get comfortable with `heroku logs` and `heroku restart` if
you're having issues.
